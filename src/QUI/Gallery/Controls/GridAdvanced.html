{if $Pagination && $Site}
    {$Pagination->create()}
{/if}

{assign var=counter value=1}
<section class="quiqqer-control-gallery-gridAdvanced-list galleryGridTemplate-{$template} {$gap} {$scaleImageOnHover} {$darkenImageOnHover} {$iconOnHover}">
    {foreach from=$images item=Image}
        {if $counter > $max}
            {break}
        {/if}
        <div class="quiqqer-control-gallery-gridAdvanced-entry-wrapper">
            <div class="quiqqer-control-gallery-gridAdvanced-entry {if $shuffleImages}skeletonLoadingEffect{/if}">
                {if !$shuffleImages}
                <a href="{image image=$Image onlysrc=true}"
                   class="quiqqer-control-gallery-gridAdvanced-image"
                   target="_blank"
                >
                    {image image=$Image height="1200" width="1200" class="quiqqer-control-gallery-gridAdvanced-image-img" loading="lazy"}
                </a>
                {/if}

                {if $this->getAttribute('showImageTitle') && $Image->getTitle()}
                    <div class="quiqqer-control-gallery-gridAdvanced-title" title="{$Image->getTitle()}">
                        {if $titleClickable}
                        <a href="{image image=$Image onlysrc=true}" target="_blank">
                            {/if}
                            <span>{$Image->getTitle()}</span>
                            {if $titleClickable}
                        </a>
                        {/if}
                    </div>
                {/if}
            </div>
        </div>

        {assign var=counter value=$counter+1}
    {/foreach}

    {if $completeList}
        <section class="quiqqer-gallery-grid-list-complete">
            <template>
                {foreach from=$completeList item=Image}
                    <div class="quiqqer-gallery-grid-list-complete-entry"
                         data-src="{image image=$Image onlysrc=true rewrited=true}"
                         data-thumb-src="{image image=$Image onlysrc=true rewrited=true height="1200" width="1200"}"
                    >
                        <div class="title">{$Image->getTitle()}</div>
                        <div class="short">{$Image->getShort()}</div>
                    </div>
                {/foreach}
            </template>
        </section>
    {/if}
</section>

{if $Pagination && $Site}
    {$Pagination->create()}
{/if}